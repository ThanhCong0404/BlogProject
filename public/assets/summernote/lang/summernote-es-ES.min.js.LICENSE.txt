/*
Summernote v0.8.18
(c) 2013-2023 Alan Hong and other contributors
MIT License
https://github.com/summernote/summernote/blob/develop/LICENSE.md
*/

;(function ($, window, document, undefined) {
  'use strict';

  // define summernote namespace
  var Summernote = function (element, options) {
    this.$element = $(element);
    this.options = $.extend({}, $.fn.summernote.defaults, options);
    this.version = '.8.18';
    this.lang = {};
    this.registeredModules = [];
    this.modules = {};
    this.events = [];
    this.init();
  };

  // initialize
  Summernote.prototype.init = function () {
    this.construct();
    this.setupEvents();
  };

  // construct
  Summernote.prototype.construct = function () {
    this.lang = $.summernote.lang(this.options.lang, this.options.langInfo);
    this.container = this.$element.hasClass('form-control') ? this.$element.parent() : this.$element;
    this.options.container = this.container[0];
    this.options.body = this.container.find('iframe').contents().find('body')[0];
    this.helper = new Summernote.Helper();
    this.layoutInfo = new Summernote.LayoutInfo(this.options);
    this.modules.toolbar = new Summernote.Module.Toolbar(this);
    this.modules.editor = new Summernote.Module.Editor(this);
    this.modules.codeview = new Summernote.Module.Codeview(this);
    this.modules.dialog = new Summernote.Module.Dialog(this);
    this.modules.air = new Summernote.Module.Air(this);
    this.modules.image = new Summernote.Module.Image(this);
    this.modules.link = new Summernote.Module.Link(this);
    this.modules.table = new Summernote.Module.Table(this);
    this.modules.list = new Summernote.Module.List(this);
    this.modules.font = new Summernote.Module.Font(this);
    this.modules.paragraph = new Summernote.Module.Paragraph(this);
    this.modules.strike = new Summernote.Module.Strike(this);
    this.modules.superscript = new Summernote.Module.Superscript(this);
    this.modules.subscript = new Summernote.Module.Subscript(this);
    this.modules.remove = new Summernote.Module.Remove(this);
    this.modules.help = new Summernote.Module.Help(this);
    this.modules.fullscreen = new Summernote.Module.Fullscreen(this);
    this.modules.maximize = new Summernote.Module.Maximize(this);
    this.modules.checksum = new Summernote.Module.Checksum(this);
    this.modules.rtl = new Summernote.Module.Rtl(this);
    this.modules.view = new Summernote.Module.View(this);
    this.modules.video = new Summernote.Module.Video(this);
    this.modules.hr = new Summernote.Module.Hr(this);
    this.modules.undo = new Summernote.Module.Undo(this);
    this.modules.redo = new Summernote.Module.Redo(this);
    this.modules.code = new Summernote.Module.Code(this);
    this.modules.linkDialog = new Summernote.Module.LinkDialog(this);
    this.modules.tableDialog = new Summernote.Module.TableDialog(this);
    this.modules.imageDialog = new Summernote.Module.ImageDialog(this);
    this.modules.airPopover = new Summernote.Module.AirPopover(this);
    this.modules.fontsize = new Summernote.Module.Fontsize(this);
    this.modules.color = new Summernote.Module.Color(this);
    this.modules.videoDialog = new Summernote.Module.VideoDialog(this);
    this.modules.file = new Summernote.Module.File(this);
    this.modules.airPopover = new Summernote.Module.AirPopover(this);
    this.modules.link = new Summernote.Module.Link(this);
    this.modules.airPopover = new Summernote.Module.AirPopover(this);
    this.modules.codeviewPopover = new Summernote.Module.CodeviewPopover(this);
    this.modules.helpPopover = new Summernote.Module.HelpPopover(this);
    this.modules.fullscreenPopover = new Summernote.Module.FullscreenPopover(this);
    this.modules.maximizePopover = new Summernote.Module.MaximizePopover(this);
    this.modules.videoPopover = new Summernote.Module.VideoPopover(this);
    this.modules.linkPopover = new Summernote.Module.LinkPopover(this);
    this.modules.imagePopover = new Summernote.Module.ImagePopover(this);
    this.modules.hrPopover = new Summernote.Module.HrPopover(this);
    this.modules.fontsizePopover = new Summernote.Module.FontsizePopover(this);
    this.modules.colorPopover = new Summernote.Module.ColorPopover(this);
    this.modules.tablePopover = new Summernote.Module.TablePopover(this);
    this.modules.checkbox = new Summernote.Module.Checkbox(this);
    this.modules.radio = new Summernote.Module.Radio(this);
    this.modules.button = new Summernote.Module.Button(this);
    this.modules.label = new Summernote.Module.Label(this);
    this.modules.mention = new Summernote.Module.Mention(this);
  };

  // setup events
  Summernote.prototype.setupEvents = function () {
    this.events.push(
      $.fn.on(this.options.events.onInit, $.proxy(this.onInit, this)),
      $.fn.on(this.options.events.onFocus, $.proxy(this.onFocus, this)),
      $.fn.on(this.options.events.onBlur, $.proxy(this.onBlur, this)),
      $.fn.on(this.options.events.onImageLoad, $.proxy(this.onImageLoad, this)),
      $.fn.on(this.options.events.onPaste, $.proxy(this.onPaste, this)),
      $.fn.on(this.options.events.onKeyup, $.proxy(this.onKeyup, this)),
      $.fn.on(this.options.events.onKeydown, $.proxy(this.onKeydown, this)),
      $.fn.on(this.options.events.onKeypress, $.proxy(this.onKeypress, this)),
      $.fn.on(this.options.events.onChange, $.proxy(this.onChange, this)),
      $.fn.on(this.options.events.onMemorize, $.proxy(this.onMemorize, this)),
      $.fn.on(this.options.events.onDestroy, $.proxy(this.onDestroy, this))
    );
  };

  // register module
  Summernote.prototype.registerModule = function (module) {
    this.registeredModules.push(module);
  };

  // destroy
  Summernote.prototype.destroy = function () {
    this.modules.toolbar.destroy();
    this.modules.editor.destroy();
    this.modules.codeview.destroy();
    this.modules.dialog.destroy();
    this.modules.air.destroy();
    this.modules.image.destroy();
    this.modules.link.destroy();
    this.modules.table.destroy();
    this.modules.list.destroy();
    this.modules.font.destroy();
    this.modules.paragraph.destroy();
    this.modules.strike.destroy();
    this.modules.superscript.destroy();
    this.modules.subscript.destroy();
    this.modules.remove.destroy();
    this.modules.help.destroy();
    this.modules.fullscreen.destroy();
    this.modules.maximize.destroy();
    this.modules.checksum.destroy();
    this.modules.rtl.destroy();
    this.modules.view.destroy();
    this.modules.video.destroy();
    this.modules.hr.destroy();
    this.modules.undo.destroy();
    this.modules.redo.destroy();
    this.modules.code.destroy();
    this.modules.linkDialog.destroy();
    this.modules.tableDialog.destroy();
    this.modules.imageDialog.destroy();
    this.modules.airPopover.destroy();
    this.modules.fontsize.destroy();
    this.modules.color.destroy();
    this.modules.videoDialog.destroy();
    this.modules.file.destroy();
    this.modules.airPopover.destroy();
    this.modules.link.destroy();
    this.modules.airPopover.destroy();
    this.modules.codeviewPopover.destroy();
    this.modules.helpPopover.destroy();
    this.modules.fullscreenPopover.destroy();
    this.modules.maximizePopover.destroy();
    this.modules.videoPopover.destroy();
    this.modules.linkPopover.destroy();
    this.modules.imagePopover.destroy();
    this.modules.hrPopover.destroy();
    this.modules.fontsizePopover.destroy();
    this.modules.colorPopover.destroy();
    this.modules.tablePopover.destroy();
    this.modules.checkbox.destroy();
    this.modules.radio.destroy();
    this.modules.button.destroy();
    this.modules.label.destroy();
    this.modules.mention.destroy();

    this.container.off('.summernote');
    this.container.removeData('summernote');
  };

  // Plugin
  $.fn.summernote = function (option) {
    var args = Array.prototype.slice.call(arguments, 1);

    return this.each(function () {
      var $this = $(this);
      var data  = $this.data('summernote');
      var options = typeof option == 'object' && option;

      if (!data) $this.data('summernote', (data = new Summernote(this, options)));
      if (typeof option == 'string') data[option].apply(data, args);
    });
  };

  // Defaults
  $.fn.summernote.defaults = {
    // core options
    airMode: false,
    airPalette: ['#000000', '#446CB3', '#CC0000', '#008000', '#0000FF', '#663300', '#996633', '#339966', '#003366', '#333300', '#990000', '#FFCC00', '#6699CC', '#FF9900', '#FF3399', '#CC99CC', '#333399', '#666633', '#999966', '#666666', '#B366CC', '#990099', '#CCCC00', '#FF6633', '#6666CC', '#CCCCCC', '#000080', '#008080', '#000000'],
    airPaletteExpand: false,
    focus: true,
    toolbar: [
      ['style', ['style']],
      ['font', ['bold', 'italic', 'underline', 'clear']],
      ['fontname', ['fontname']],
      ['fontsize', ['fontsize']],
      ['color', ['color']],
      ['para', ['ul', 'ol', 'paragraph']],
      ['height', ['height']],
      ['table', ['table']],
      ['insert', ['link', 'picture', 'video']],
      ['view', ['fullscreen', 'codeview']],
      ['help', ['help']]
    ],
    fontNames: ['A
